(function (D) { var s = D.kit = {}; s.ie = !1; s.iev = function () { for (var a = 3, c = document.createElement("div"), b = c.getElementsByTagName("i"); c.innerHTML = "<!--[if gt IE " + ++a + "]><i></i><![endif]-->", b[0];); return 4 < a ? a : void 0 }(); s.show = function (a, c) { a && (a.style.display = c || ""); return a }; s.hide = function (a) { a && (a.style.display = "none"); return a }; s.display = function (a) { return a && a.style.display }; s.get = function (a) { return "string" === typeof a ? document.getElementById(a) : a }; s.gets = function (a, c) { return a && a.getElementsByTagName(c) }; s.mousePos = function (a) { a = a || window.event; return { x: a.clientX + document.body.scrollLeft + document.documentElement.scrollLeft, y: a.clientY + document.body.scrollTop + document.documentElement.scrollTop } }; s.objPos = function (a) { for (var c = a.offsetLeft, b = a.offsetTop, d = a.offsetWidth, f = a.offsetHeight; a = a.offsetParent;)c += a.offsetLeft, b += a.offsetTop; return { x: c, y: b, w: d, h: f } }; s.aSort = function (a, c) { a.sort(function (a, d) { if (0 == c || 1 == c) return a > d ? 0 == c ? 1 : -1 : a < d ? 0 == c ? -1 : 1 : 0; if (2 == c) return .5 < Math.random() ? -1 : 1 }) }; s.getElementsByClassName = function (a, c, b) { a = "*" == c && a.all ? a.all : a.getElementsByTagName(c); c = []; var d = []; if ("object" == typeof b) for (var f = 0; f < b.length; f++)d.push(new RegExp("(^|\\s)" + b[f].replace(/\-/g, "\\-") + "(\\s|$)")); else d.push(new RegExp("(^|\\s)" + b.replace(/\-/g, "\\-") + "(\\s|$)")); for (var g = 0; g < a.length; g++) { b = a[g]; for (var f = !0, e = 0; e < d.length; e++)if (!d[e].test(b.className)) { f = !1; break } f && c.push(b) } return c }; s.switch_tags = function (a, c, b, d) { this.tags = a; this.contents = c; this.cls = b; this.c_index = d; this.tags[d].className = b; this.contents[d].style.display = ""; this.bind_switch() }; s.switch_tags.prototype.bind_switch = function () { for (var a = this, c, b = 0; b < this.tags.length; b++)this.tags[b].index = b, this.tags[b].onmouseover = function () { var b = this; c = setTimeout(function () { a.sw(b.index) }, 300) }, this.tags[b].onmouseout = function () { clearTimeout(c) } }; s.switch_tags.prototype.sw = function (a) { a = this.tags[a]; this.tags[this.c_index].className = ""; this.contents[this.c_index].style.display = "none"; a.className = this.cls; this.contents[a.index].style.display = ""; this.c_index = a.index }; Array.prototype.indexOf = function (a) { for (var c = 0; c < this.length; c++)if (this[c] == a) return c; return -1 }; Array.prototype.remove = function (a) { a = this.indexOf(a); -1 < a && this.splice(a, 1) }; Array.prototype.aSort = function (a) { this.sort(function (c, b) { if (0 == a || 1 == a) return c > b ? 0 == a ? 1 : -1 : c < b ? 0 == a ? -1 : 1 : 0; if (2 == a) return .5 < Math.random() ? -1 : 1 }) }; var l = D.control = {}; l.drawLineGraph = function (a, c, b, d, f) { d && "" != d && (document.getElementById(d).checked ? (canvas.clear(), canvas.init(a, c, b).jobs(!0, f)) : canvas.clear()) }; l.showLineGraph = function (a) { a && "" != a && (document.getElementById(a).checked ? canvas.show(!0) : canvas.show(!1)) }; l.isSort = function (a) { return "sort_top" == document.getElementById("imgsort").className }; l.sortCycle = function (a, c, b, d, f, g) { for (var e = document.getElementById(a), k = e.rows, h = [], r = 0; r < k.length; r++)h[k.length - 1 - r] = k[r]; if (null != h && 0 < h.length) { (r = document.getElementById("imgsort")) && (r.className = "sort_top" == r.className ? "sort_top sort_bottom" : "sort_top"); (r = document.getElementById("imgsort_b")) && (r.className = "sort_top" == r.className ? "sort_top sort_bottom" : "sort_top"); (r = document.getElementById("imgsort_float")) && (r.className = "sort_top" == r.className ? "sort_top sort_bottom" : "sort_top"); k = document.createDocumentFragment(); for (r = 0; r < h.length; r++)k.appendChild(h[r]); e.appendChild(k) } canvas.clear(); a = canvas.init(a, c, b); f || (a.jobs(!0, g), l.showLineGraph(d)) }; l.showOmit = function (a, c, b, d) { var f = document.getElementById(a).rows, g = [], e = []; "" != c && void 0 != c && (0 < c.indexOf(",") ? (g = c.split(","), e = b.split(",")) : (g[0] = c, e[0] = b)); c = 0; if (l.isSort(a)) for (a = f.length - 1; -1 < a; a--)for (b = 0; b < g.length; b++)for (k = parseInt(g[b]); k < parseInt(e[b]); k++)"key" != canvas.table[a][k] && (h = f[a].cells[k]) && "" != h.innerHTML && (d && document.getElementById(d).checked ? (canvas.mtable[c++] = h.innerHTML, h.innerHTML = "&nbsp;") : h.innerHTML = canvas.mtable[c++]); else for (a = 0; a < f.length; a++)for (b = 0; b < g.length; b++)for (var k = parseInt(g[b]); k < parseInt(e[b]); k++)if ("key" != canvas.table[a][k]) { var h = f[a].cells[k]; h && "" != h.innerHTML && (d && document.getElementById(d).checked ? (canvas.mtable[c++] = h.innerHTML, h.innerHTML = "&nbsp;") : h.innerHTML = canvas.mtable[c++]) } }; l.dataOmit = function (a, c, b) { document.getElementById(c).checked ? document.getElementById(a).className += " " + b : document.getElementById(a).className = document.getElementById(a).className.split(" " + b).join("") }; l.ylfcDisplayOrnot = function (a, c, b, d, f) { a = document.getElementById(a); var g = a.rows.length - 1; if (f) if (1 == d) for (d = 0; d < c.length; d++)for (f = parseInt(c[d]); f < parseInt(b[d]); f++)for (k = e = 0; k <= g; k++) { h = a.rows[k].cells[f]; if (0 >= canvas.table.length) return; if (h && h.style && "" != h.innerHTML) if ("key" == canvas.table[k][f] || k >= g) { 0 < e && 6 > e ? l = "ball_omit_5" : 5 < e && 12 > e ? l = "ball_omit_11" : 11 < e && (l = "ball_omit_m"); for (e = 0; e <= k; e++)(h = a.rows[e].cells[f]) && h.className && "key" != canvas.table[e][f] && (h.className += " " + l); break } else e++ } else for (d = 0; d < c.length; d++)for (f = parseInt(c[d]); f < parseInt(b[d]); f++)for (k = 0; k <= g; k++)(h = a.rows[k].cells[f]) && h.className && (h.className = h.className.split(" ball_omit_5").join(""), h.className = h.className.split(" ball_omit_11").join(""), h.className = h.className.split(" ball_omit_m").join("")); else if (1 == d) for (d = 0; d < c.length; d++)for (f = parseInt(c[d]); f < parseInt(b[d]); f++)for (var e = 0, k = g; -1 < k; k--) { var h = a.rows[k].cells[f]; if (0 >= canvas.table.length) return; if (h && h.style && "" != h.innerHTML) if ("key" == canvas.table[k][f] || 0 >= k) { var l; 0 < e && 6 > e ? l = "ball_omit_5" : 5 < e && 12 > e ? l = "ball_omit_11" : 11 < e && (l = "ball_omit_m"); for (e = k; e < g + 1; e++)(h = a.rows[e].cells[f]) && h.className && "key" != canvas.table[e][f] && (h.className += " " + l); break } else e++ } else for (d = 0; d < c.length; d++)for (f = parseInt(c[d]); f < parseInt(b[d]); f++)for (k = g; -1 < k; k--)(h = a.rows[k].cells[f]) && h.className && (h.className = h.className.split("ball_omit_5").join(""), h.className = h.className.split("ball_omit_11").join(""), h.className = h.className.split("ball_omit_m").join("")) }; l.yiloufenceng = function (a, c, b, d) { document.getElementById(a); var f = l.isSort(a), g = [], e = []; "" != c && void 0 != c && (0 < c.indexOf(",") ? (g = c.split(","), e = b.split(",")) : (g[0] = c, e[0] = b)); d && 1 == document.getElementById(d).checked ? l.ylfcDisplayOrnot(a, g, e, 1, f) : l.ylfcDisplayOrnot(a, g, e, 2, f) }; l.drawSeparatorLine = function (a, c, b, d, f, g, e) { var k = a && document.getElementById(k) || document, k = s.getElementsByClassName(k, "tr", "tdbck"); d = document.getElementById(d).checked; for (var h = 0; h < k.length; h++)k[h].style.display = d ? "" : "none"; g || (canvas.clear(), canvas.init(a, c, b).jobs(!0, e), l.showLineGraph(f)) }; l.chonghaoCheck = function (a, c, b, d, f, g) { var e = document.getElementById(a).rows, k = [], h = []; "" != c && void 0 != c && (0 < c.indexOf(",") ? (k = c.split(","), h = b.split(",")) : (k[0] = c, h[0] = b)); c = canvas.table; a = l.isSort(a); f = f ? f : 1; g = g ? g : "chartball11"; if (a) if (1 == document.getElementById(d).checked) for (d = 0; d < k.length; d++)for (a = c.length - 1; a > f - 1; a--)for (b = parseInt(k[d]); b < parseInt(h[d]); b++) { if (c[a][b] && "key" == c[a][b]) if (c[a - f][b] && "key" == c[a - f][b] && void 0 != c[a - f + 1][b]) { r = !0; for (q = a - 1; q > a - f; q--)if ("key" == c[q][b]) { r = !1; break } r && (e[a - f].cells[b].className += " " + g) } else if ((void 0 == c[a - f][b] || void 0 == c[a - f + 1][b] && 0 == c[a - f][b]) && c[a - f - 1][b] && "key" == c[a - f - 1][b]) { r = !0; for (q = a - 1; q > a - f - 1; q--)if ("key" == c[q][b]) { r = !1; break } r && (e[a - f - 1].cells[b].className += " " + g) } } else for (a = c.length - 2; -1 < a; a--)for (b = 0; b < c[a].length; b++)-1 < e[a].cells[b].className.indexOf(g) && (e[a].cells[b].className = e[a].cells[b].className.split(" " + g).join(""), c[a][b] = "key"); else if (1 == document.getElementById(d).checked) for (d = 0; d < k.length; d++)for (a = 0; a < c.length - f; a++)for (b = parseInt(k[d]); b < parseInt(h[d]); b++) { if (c[a][b] && "key" == c[a][b]) if (c[a + f][b] && "key" == c[a + f][b] && void 0 != c[a + f - 1][b]) { for (var r = !0, q = a + 1; q < a + f; q++)if ("key" == c[q][b]) { r = !1; break } r && (e[a + f].cells[b].className += " " + g) } else if ((void 0 == c[a + f][b] || void 0 == c[a + f - 1][b] && 0 == c[a + f][b]) && c[a + f + 1][b] && "key" == c[a + f + 1][b]) { r = !0; for (q = a + 1; q < a + f + 1; q++)if ("key" == c[q][b]) { r = !1; break } r && (e[a + f + 1].cells[b].className += " " + g) } } else for (a = 1; a < c.length; a++)for (b = 0; b < c[a].length; b++)-1 < e[a].cells[b].className.indexOf(g) && (e[a].cells[b].className = e[a].cells[b].className.split(" " + g).join(""), c[a][b] = "key") }; l.lianhaoCheck = function (a, c, b, d) { a = document.getElementById(a).rows; var f = [], g = []; "" != c && void 0 != c && (0 < c.indexOf(",") ? (f = c.split(","), g = b.split(",")) : (f[0] = c, g[0] = b)); c = canvas.table; if (document.getElementById(d).checked) for (d = 0; d < f.length; d++)for (b = 0; b < c.length; b++)for (var e = parseInt(f[d]); e < parseInt(g[d]); e++)c[b][e] && "key" == c[b][e] && (c[b][e + 1] && "key" == c[b][e + 1] ? a[b].cells[e + 1].className += " chartball09" : void 0 == c[b][e + 1] && c[b][e + 2] && "key" == c[b][e + 2] && (a[b].cells[e + 2].className += " chartball09"), ("br01" == a[b].cells[e + 1].className || "br02" == a[b].cells[e + 1].className) && c[b][e + 2] && "key" == c[b][e + 2] && (a[b].cells[e + 2].className += " chartball09")); else for (b = 0; b < c.length; b++)for (e = 0; e < c[b].length; e++)-1 < a[b].cells[e].className.indexOf("chartball09") && (a[b].cells[e].className = a[b].cells[e].className.split(" chartball09").join(""), c[b][e] = "key") }; l.bianhaoCheck = function (a, c, b, d) { var f = document.getElementById(a).rows, g = [], e = []; "" != c && void 0 != c && (0 < c.indexOf(",") ? (g = c.split(","), e = b.split(",")) : (g[0] = c, e[0] = b)); c = canvas.table; if (l.isSort(a)) if (document.getElementById(d).checked) for (a = 0; a < g.length; a++)for (d = c.length - 1; 0 < d; d--)for (b = parseInt(g[a]); b < parseInt(e[a]); b++)c[d][b] && "key" == c[d][b] && (c[d - 1][b + 1] && "key" == c[d - 1][b + 1] ? f[d - 1].cells[b + 1].className += " chartball10" : void 0 == c[d - 1][b + 1] && c[d - 2][b + 1] && "key" == c[d - 2][b + 1] && (f[d - 2].cells[b + 1].className += " chartball10"), c[d - 1][b - 1] && "key" == c[d - 1][b - 1] ? f[d - 1].cells[b - 1].className += " chartball10" : void 0 == c[d - 1][b - 1] && c[d - 2][b - 1] && "key" == c[d - 2][b - 1] && (f[d - 2].cells[b - 1].className += " chartball10")); else for (d = c.length - 2; -1 < d; d--)for (b = 0; b < c[d].length; b++)-1 < f[d].cells[b].className.indexOf("chartball10") && (f[d].cells[b].className = f[d].cells[b].className.split(" chartball10").join(""), c[d][b] = "key"); else if (document.getElementById(d).checked) for (a = 0; a < g.length; a++)for (d = 0; d < c.length - 1; d++)for (b = parseInt(g[a]); b < parseInt(e[a]); b++)c[d][b] && "key" == c[d][b] && (c[d + 1][b + 1] && "key" == c[d + 1][b + 1] ? f[d + 1].cells[b + 1].className += " chartball10" : (void 0 == c[d + 1][b + 1] && c[d + 2][b + 1] && "key" == c[d + 2][b + 1] && (f[d + 2].cells[b + 1].className += " chartball10"), void 0 != f[d + 1].cells[b + 1] && ("br01" == f[d + 1].cells[b + 1].className || "br02" == f[d + 1].cells[b + 1].className) && c[d + 1][b + 2] && "key" == c[d + 1][b + 2] && (f[d + 1].cells[b + 2].className += " chartball10")), c[d + 1][b - 1] && "key" == c[d + 1][b - 1] ? f[d + 1].cells[b - 1].className += " chartball10" : (void 0 == c[d + 1][b - 1] && c[d + 2][b - 1] && "key" == c[d + 2][b - 1] && (f[d + 2].cells[b - 1].className += " chartball10"), void 0 != f[d + 1].cells[b - 1] && "br01" == f[d + 1].cells[b - 1].className && c[d + 1][b - 2] && "key" == c[d + 1][b - 2] && (f[d + 1].cells[b - 2].className += " chartball10"))); else for (d = 1; d < c.length; d++)for (b = 0; b < c[d].length; b++)-1 < f[d].cells[b].className.indexOf("chartball10") && (f[d].cells[b].className = f[d].cells[b].className.split(" chartball10").join(""), c[d][b] = "key") }; l.clgBind = function (a, c, b, d) { for (var f = 0; f < c.length; f++)if (c[f].btn && "undefined" != typeof c[f].bnum) { var g = c[f].btn, e = c[f].isShow ? c[f].isShow : !1; (function (c, f) { g.onclick = function () { l.clgCheck(a, b, d[f], c, this.checked) } })(c[f].bnum, f); g.checked = e } }; l.clgCheck = function (a, c, b, d, f) { a = document.getElementById(a).rows; for (var g = 0; g < a.length; g++)for (var e = 0; e < c.length; e++) { var k = a[g].cells[c[e]]; k && k.innerHTML == d.toString() && (k.className = f ? k.className + (" " + b) : k.className.split(" " + b).join("")) } }; l.reverseTd = function (a, c, b, d, f, g, e) { var k = document.getElementById(a).rows, h = d[0] ? d[0] : 0; d = d[1] ? d[1] : 0; for (var r = b.join(","), q = 0; q < k.length; q++) { for (var n = 0; n < Math.floor((d - h) / 2); n++) { var p = k[q].cells[h + n], u = k[q].cells[d - n - 1]; if (p && u) { var t = p.className; p.className = u.className; u.className = t; t = p.innerHTML; p.innerHTML = u.innerHTML; u.innerHTML = t; p.title = 100 <= Number(p.innerHTML) ? p.innerHTML : ""; u.title = 100 <= Number(u.innerHTML) ? u.innerHTML : "" } } for (n = 0; n < d - h; n++)(p = k[q].cells[h + n]) && -1 < r.indexOf(p.className) && (p.innerHTML = n) } canvas.clear(); g || (canvas.init(a, c, b).jobs(!0, e), l.showLineGraph(f)) }; l.comReverse = function (a, c) { for (var b = document.getElementById(a).rows, d = c[0] ? c[0] : 0, f = c[1] ? c[1] : 0, g = 0; g < b.length; g++)for (var e = 0; e < Math.floor((f - d) / 2); e++) { var k = b[g].cells[d + e], h = b[g].cells[f - e - 1]; if (k && h) { var l = k.className; k.className = h.className; h.className = l; l = k.innerHTML; k.innerHTML = h.innerHTML; h.innerHTML = l; k.title = 100 <= Number(k.innerHTML) ? k.innerHTML : ""; h.title = 100 <= Number(h.innerHTML) ? h.innerHTML : "" } } }; l.switchData = function (a, c, b, d, f, g, e, k) { var h = document.getElementById(a).rows, r = d[0] ? d[0] : 0; d = d[1] ? d[1] : h.length - 1; var q = f[0]; f = f[1]; for (var n = 0; n < h.length; n++)for (var p = r; p <= d && h[n].cells[p]; p++) { h[n].cells[p].className == q && h[n].cells[p].attributes.skey && "" != h[n].cells[p].attributes.skey.nodeValue || (h[n].cells[p].className == q ? (h[n].cells[p].className = f, h[n].cells[p].setAttribute("skey", "key")) : h[n].cells[p].attributes.skey && "" != h[n].cells[p].attributes.skey.nodeValue && (h[n].cells[p].className = q, h[n].cells[p].setAttribute("skey", ""))); var u = h[n].cells[p].innerHTML; if (h[n].cells[p].attributes.svalue) { var t = h[n].cells[p].attributes.svalue.nodeValue; isNaN(Number(t)) || (h[n].cells[p].className = 100 <= Number(t) ? h[n].cells[p].className + " ft8" : h[n].cells[p].className.split("ft8").join("")); h[n].cells[p].innerHTML = t; h[n].cells[p].attributes.svalue.value = u } } canvas.clear(); e || (canvas.init(a, c, b).jobs(!0, k), l.showLineGraph(g)) }; l.swapData = function (a, c) { for (var b = document.getElementById(a).rows, d = c[0] ? c[0] : 0, f = c[1] ? c[1] : b.length - 1, g = 0; g < b.length; g++)for (var e = d; e <= f && b[g].cells[e]; e++) { var k = b[g].cells[e].innerHTML; if (b[g].cells[e].attributes.svalue) { var h = b[g].cells[e].attributes.svalue.nodeValue; isNaN(Number(h)) || (b[g].cells[e].className = 100 <= Number(h) ? b[g].cells[e].className + " ft8" : b[g].cells[e].className.split("ft8").join("")); b[g].cells[e].innerHTML = h; b[g].cells[e].attributes.svalue.value = k } } }; l.crossLine = function (a, c, b) { var d = document.getElementById(a), f = document.getElementById(c[0]), g = document.getElementById(c[1]), e = document.getElementById(b); f.style.display = "none"; g.style.display = "none"; d.onmousemove = function (a) { if (e.checked) { f.style.display = ""; g.style.display = ""; f.style.height = f.offsetHeight + "px"; f.style.width = d.offsetWidth + "px"; g.style.height = d.offsetHeight + "px"; g.style.top = "0px"; a = s.mousePos(a); var c = s.objPos(d); f.style.top = a.y - c.y - 1 + "px"; g.style.left = a.x - c.x - 1 + "px" } } }; l.chartInitializer = function (a) { var c = a.initBody ? a.initBody : "cpdata", b = a.initArea ? a.initArea : [], d = a.initArea ? a.initClass : [], f = a.initParams ? a.initParams : null, g = a.omitData ? a.omitData : null, e = a.omitLayer ? a.omitLayer : null, k = a.brokenLine ? a.brokenLine : null, h = a.sepLine ? a.sepLine : null, r = a.clgCheck ? a.clgCheck : null, q = a.repNum ? a.repNum : null, n = a.gapNum ? a.gapNum : null, p = a.conNum ? a.conNum : null, u = a.adjaNum ? a.adjaNum : null, t = a.nSwitch ? a.nSwitch : null, s = a.dSwitch ? a.dSwitch : null, v = a.crossLine ? a.crossLine : null, z = a.sortTop ? a.sortTop : null, A = a.sortBottom ? a.sortBottom : null, x = a.sortConfig ? a.sortConfig : null, C = a.light ? a.light : null, G = a.count ? a.count : null; a = a.printData ? a.printData : null; var y, B; if (c && document.getElementById(c) && 0 < document.getElementById(c).rows.length) { window.onload = function () { canvas.clear(); f ? canvas.init(c, b, d).jobs(!0, f) : canvas.init(c, b, d) }; if (g) { var m = document.getElementById(g[0]); m && (m.onclick = function () { l.dataOmit(g[1], g[2], g[3]) }, m.checked = g[4] ? g[4] : !1); if (m = document.getElementById(g[5])) m.onclick = function () { l.dataOmit(g[1], g[5], g[3]) }, m.checked = g[4] ? g[4] : !1 } if (e) { if (m = document.getElementById(e[0])) m.onclick = function () { l.yiloufenceng(c, e[1], e[2], e[3]) }, m.checked = e[4] ? e[4] : !1; if (m = document.getElementById(e[5])) m.onclick = function () { l.yiloufenceng(c, e[1], e[2], e[5]) }, m.checked = e[4] ? e[4] : !1 } if (k) { if (m = document.getElementById(k[0])) m.onclick = function () { l.showLineGraph(k[0]) }, m.checked = k[1] ? k[1] : !1; if (m = document.getElementById(k[2])) m.onclick = function () { l.showLineGraph(k[2]) }, m.checked = k[1] ? k[1] : !1 } h && (m = document.getElementById(h[0])) && (m.onclick = function () { f ? l.drawSeparatorLine(c, b, d, h[1], h[2], h[3], f) : l.drawSeparatorLine(c, b, d, h[1], h[2], h[3]) }, m.checked = h[4] ? h[4] : !1); q && (m = document.getElementById(q[0])) && (m.onclick = function () { l.chonghaoCheck(c, q[1], q[2], q[3]) }, m.checked = q[q.length - 1] ? q[q.length - 1] : !1); n && (m = document.getElementById(n[0])) && (m.onclick = function () { l.chonghaoCheck(c, n[1], n[2], n[3], n[4], n[5]) }, m.checked = q[n.length - 1] ? q[n.length - 1] : !1); p && (m = document.getElementById(p[0])) && (m.onclick = function () { l.lianhaoCheck(c, p[1], p[2], p[3]) }, m.checked = p[4] ? p[4] : !1); u && (m = document.getElementById(u[0])) && (m.onclick = function () { l.bianhaoCheck(c, u[1], u[2], u[3]) }, m.checked = u[4] ? u[4] : !1); r && l.clgBind(c, r[0], r[1], r[2]); if (t) for (m = 0; m < t.length; m++) { var w = document.getElementById(t[m][0]); w && (w.tid = m, w.onclick = function () { y = this; switch (t[this.tid][0]) { case "todd": case "bodd": case "fodd": document.getElementById("teven").style.display = ""; document.getElementById("beven").style.display = ""; document.getElementById("feven") && (document.getElementById("feven").style.display = ""); document.getElementById("todd").style.display = "none"; document.getElementById("bodd").style.display = "none"; document.getElementById("fodd") && (document.getElementById("fodd").style.display = "none"); break; case "teven": case "beven": case "feven": document.getElementById("teven").style.display = "none"; document.getElementById("beven").style.display = "none"; document.getElementById("feven") && (document.getElementById("feven").style.display = "none"); document.getElementById("todd").style.display = ""; document.getElementById("bodd").style.display = ""; document.getElementById("fodd") && (document.getElementById("fodd").style.display = ""); break; case "tprime": case "bprime": case "fprime": document.getElementById("tprime").style.display = "none"; document.getElementById("bprime").style.display = "none"; document.getElementById("fprime") && (document.getElementById("fprime").style.display = "none"); document.getElementById("tcom").style.display = ""; document.getElementById("bcom").style.display = ""; document.getElementById("fcom") && (document.getElementById("fcom").style.display = ""); break; case "tcom": case "bcom": case "fcom": document.getElementById("tcom").style.display = "none", document.getElementById("bcom").style.display = "none", document.getElementById("fcom") && (document.getElementById("fcom").style.display = "none"), document.getElementById("tprime").style.display = "", document.getElementById("bprime").style.display = "", document.getElementById("fprime") && (document.getElementById("fprime").style.display = "") }H(t[this.tid][0]); l.reverseTd(c, b, d, t[this.tid][1], t[this.tid][2], t[this.tid][3], f); t[this.tid][4] && l.comReverse(t[this.tid][4][0], t[this.tid][4][1]) }) } if (s) for (m = 0; m < s.length; m++)if (w = document.getElementById(s[m][0])) w.tid = m, w.onclick = function () { B = this; switch (s[this.tid][0]) { case "tb1": case "bb1": document.getElementById("tb2").style.display = ""; document.getElementById("bb2").style.display = ""; document.getElementById("tb1").style.display = "none"; document.getElementById("bb1").style.display = "none"; for (var a = 1; 6 >= a; a++)document.getElementById("tb2_" + a).style.display = "", document.getElementById("bb2_" + a).style.display = "", document.getElementById("tb1_" + a).style.display = "none", document.getElementById("bb1_" + a).style.display = "none"; break; case "tb2": case "bb2": document.getElementById("tb2").style.display = "none"; document.getElementById("bb2").style.display = "none"; document.getElementById("tb1").style.display = ""; document.getElementById("bb1").style.display = ""; for (a = 1; 6 >= a; a++)document.getElementById("tb2_" + a).style.display = "none", document.getElementById("bb2_" + a).style.display = "none", document.getElementById("tb1_" + a).style.display = "", document.getElementById("bb1_" + a).style.display = ""; break; case "ts1": case "bs1": document.getElementById("ts1").style.display = "none"; document.getElementById("bs1").style.display = "none"; document.getElementById("ts2").style.display = ""; document.getElementById("bs2").style.display = ""; for (a = 1; 6 >= a; a++)document.getElementById("ts2_" + a).style.display = "", document.getElementById("bs2_" + a).style.display = "", document.getElementById("ts1_" + a).style.display = "none", document.getElementById("bs1_" + a).style.display = "none"; break; case "ts2": case "bs2": for (document.getElementById("ts2").style.display = "none", document.getElementById("bs2").style.display = "none", document.getElementById("ts1").style.display = "", document.getElementById("bs1").style.display = "", a = 1; 6 >= a; a++)document.getElementById("ts2_" + a).style.display = "none", document.getElementById("bs2_" + a).style.display = "none", document.getElementById("ts1_" + a).style.display = "", document.getElementById("bs1_" + a).style.display = "" }l.switchData(c, b, d, s[this.tid][1], s[this.tid][2], s[this.tid][3], s[this.tid][4], f); if (a = s[this.tid][5]) for (var g = 0; g < a.length; g++)l.swapData(a[g][0], a[g][1]); e && (a = document.getElementById(e[0])) && a.checked && (a.checked = !1, l.yiloufenceng(c, e[1], e[2], e[3]), a.checked = !0, l.yiloufenceng(c, e[1], e[2], e[3])) }; z && (m = document.getElementById(z[0])) && (m.onclick = function () { f ? l.sortCycle(c, b, d, z[1], z[2], f) : l.sortCycle(c, b, d, z[1], z[2]) }); A && (w = document.getElementById(A[0])) && (w.onclick = function () { f ? l.sortCycle(c, b, d, A[1], A[2], f) : l.sortCycle(c, b, d, A[1], A[2]) }); if (x) { var E = x[0]; if (0 < E.length) for (var m = 0, D = E.length; m < D; m++)if (w = document.getElementById(E[m])) w.onclick = function () { f ? l.sortCycle(c, b, d, x[1], x[2], f) : l.sortCycle(c, b, d, x[1], x[2]) } } v && (m = document.getElementById(v[2]), w = document.getElementById(v[1][0]), E = document.getElementById(v[1][1]), w.style.display = "none", E.style.display = "none", m && (m.onclick = function () { l.crossLine(v[0], v[1], v[2]) }, m.checked = v[3] ? v[3] : !1)); C && 2 == C.length && I && I.init(C[0], C[1]); var F = function (a) { var m = window.jQuery; a && canvas.repaint(); g && l.dataOmit(g[1], g[2], g[3]); e && (m(".ball_omit_5, .ball_omit_11, .ball_omit_m").removeClass("ball_omit_5 ball_omit_11 ball_omit_m"), l.yiloufenceng(c, e[1], e[2], e[3])); k && l.showLineGraph(k[0]); h && (f ? l.drawSeparatorLine(c, b, d, h[1], h[2], h[3], f) : l.drawSeparatorLine(c, b, d, h[1], h[2], h[3])); q && l.chonghaoCheck(c, q[1], q[2], q[3]); n && l.chonghaoCheck(c, n[1], n[2], n[3], n[4], n[5]); p && l.lianhaoCheck(c, p[1], p[2], p[3]); u && l.bianhaoCheck(c, u[1], u[2], u[3]); r && l.clgBind(c, r[0], r[1], r[2]); t && y && (H(t[y.tid][0]), l.reverseTd(c, b, d, t[y.tid][1], t[y.tid][2], t[y.tid][3], f), t[y.tid][4] && l.comReverse(t[y.tid][4][0], t[y.tid][4][1])); if (s && B) { l.switchData(c, b, d, s[B.tid][1], s[B.tid][2], s[B.tid][3], s[B.tid][4], f); if (a = s[B.tid][5]) for (m = 0; m < a.length; m++)l.swapData(a[m][0], a[m][1]); e && (a = document.getElementById(e[0])) && a.checked && (a.checked = !1, l.yiloufenceng(c, e[1], e[2], e[3]), a.checked = !0, l.yiloufenceng(c, e[1], e[2], e[3])) } v && l.crossLine(v[0], v[1], v[2]) }; G && (G.isDownSort = function () { return l.isSort(c) }, G.initBody = c, setTimeout(function () { J.init(G, function () { var a = window.jQuery, b = a("#" + c), d = b.find("tr").length; a('<tr class="tdbck" ' + (h && a("#" + h[0]).is(":checked") ? "" : ' style="display: none;" ') + '><td colspan="39"></td></tr>').insertAfter(b.find("tr").filter(function (a) { return 0 !== a && a !== d - 1 && 0 === (a + 1) % 5 })); F(!0) }) }, 0)); (function (a, c) { setTimeout(function () { c('input[name="beginPeriod"], input[name="endPeriod"]').css({ backgroundColor: "" }) }, 2E3); c(".zstLoadDialogTrigger").one("click", function () { jQuery.dialog({ title: null, content: '<div class="dataLoading" style="width:400px;height:180px; line-height:180px;position: static;"><img src="loading.gif"><span>正在查询 ，请稍候… </span></div>', button: [], type: "shell", width: 400, height: 180 }) }) })(window, window.jQuery); a && (C = document.getElementById(a)) && (C.onclick = function () { window.print() }); setTimeout(function () { K.init(function () { if (l.isSort(c)) { var a = z || A || x, e = z || A || x && x[0]; f ? l.sortCycle(c, b, d, a[1], a[2], f) : l.sortCycle(c, b, d, a[1], a[2]); document.getElementById(e[0]).className = "sort_top" } F(!1) }) }, 0) } }; var I = D.trendLight = function () { return { init: function (a, c) { var b = s.get(a), d = s.get(c); b && d && (b.onclick = function () { var a = this.getAttribute("act"), c = s.get("light_bg"); c || (c = document.createElement("div"), c.id = "light_bg", c.style.backgroundColor = "#000", c.style.height = (document.documentElement.scrollHeight || document.body.scrollHeight) + "px", c.style.width = "100%", c.style.position = "absolute", c.style.top = "0", c.style.left = "0", c.style.display = "none", document.getElementsByTagName("body")[0].appendChild(c)); a && "turn_off" == a ? (c.style.display = "block", c.style.zIndex = "999", c.style.opacity = .8, c.style.filter = "Alpha(opacity='80')", d.style.zIndex = "1000", this.setAttribute("act", "turn_on"), this.innerHTML = "开灯") : (c.style.display = "none", c.style.zIndex = "-163", d.style.zIndex = "", this.setAttribute("act", "turn_off"), this.innerHTML = "关灯") }) }, adjust: function (a, c) { var b = s.get("light_bg"); b && "none" != b.style.display && (b.style.backgroundColor = "#000", b.style.height = (document.documentElement.scrollHeight || document.body.scrollHeight) + "px", b.style.width = "100%", b.style.position = "absolute", b.style.top = "0", b.style.left = "0") } } }(), F = function (a) { var c = jQuery, b = []; c.each(a, function () { b.push(c(this).html()) }); b = b.reverse(); c.each(a, function (a, f) { c(this).html(b[a]); 3 <= b[a].length ? (c(this).addClass("ft8"), c(this).attr("title", b[a])) : (c(this).removeClass("ft8"), c(this).removeAttr("title")) }) }, H = function (a) { var c = jQuery, b = c("#now_gross tr"); switch (a) { case "todd": case "bodd": case "teven": case "beven": b.each(function () { F(c(this).find("td").slice(-13, -7)) }); break; case "tprime": case "bprime": case "tcom": case "bcom": b.each(function () { F(c(this).find("td").slice(-6)) }) } }, J = function (a, c, b) { var d = function () { function b() { var a = 0, f = ((new Date).getTime() - n) / 1E3; c.each(k, function (c, b) { var d, e = b.seconds - f; 0 < e ? (d = { seconds: parseInt(e % 60, 10), minutes: parseInt(e / 60 % 60, 10), hours: parseInt(e / 60 / 60 % 24, 10), days: parseInt(e / 60 / 60 / 24, 10) }, a++) : delete k[c]; setTimeout(function () { b.callback(e, d) }, 0) }); 0 === a && d() } function d() { a.clearInterval(h); l = !0 } function e() { l && (n = (new Date).getTime(), h = a.setInterval(b, 500), l = !1) } var k = {}, h, l = !0, q = 0, n; return { add: function (a, c) { var b = "count" + q++; k[b] = { seconds: a, callback: c }; e(); return b }, stop: d, start: e } }(); return { options: { checkUrl: "", awardUrl: "/trend/autoRefresh.html", awardWaitSeconds: null, isDownSort: null, initBody: null, processResultMaxtime: 6E5, isAddNewFlag: !0 }, init: function (b, d) { this.options = c.extend({}, this.options, b); this.endPeriod = parseInt(a.endPeriod, 10); this.beginPeriod = parseInt(a.beginPeriod, 10); this.initBody = c("#" + this.options.initBody); this.repaint = d; c("#awardTimeTr").length || (this.processResult = this.processAward = c.noop); this.checkTime([c.proxy(this.processBet, this), c.proxy(this.processAward, this)]) }, checkTime: function (d) { var g = this; b.get(this.options.checkUrl, { stamp: (new Date).getTime() }, function (e, k) { !e && k ? (k = b.parseJSON(k)) && k.currentPeriod ? (g.currentPeriod = k.currentPeriod, d = c.isArray(d) ? d : [d], c.each(d, function (a, c) { c(k) }), g.addNewFlag(k)) : a.setTimeout(c.proxy(g.checkTime, g, d), 2E4) : a.setTimeout(c.proxy(g.checkTime, g, d), 2E4) }) }, addNewFlag: function (b) { b = b.currentPeriod; "jxssc" == a.gameEn && (b = b.toString().slice(2)); this.options.isAddNewFlag && 1 === b - this.endPeriod && (newRow = this.options.isDownSort() ? this.initBody.find("tr:first") : this.initBody.find("tr:last"), newRow.find("td:first").append('<span class="cz_new"></span>')); this.addNewFlag = c.noop }, processBet: function (b) { var g = this, e = c("#betTimeTrTitle"), k = c("#betTimeTrCount"), h; switch (a.gameEn) { case "ssc": case "jxssc": h = "距" + this.currentPeriod.slice(-2) + "期截止"; break; default: h = "距购买截止还剩" }e.html(this.currentPeriod); b && !isNaN(+b.secondsLeft) && 0 < b.secondsLeft ? d.add(b.secondsLeft / 1E3, function (a, b) { 0 < a ? (c.sendMsg("betCountDown", { currentPeriod: g.currentPeriod, seconds: a, timeObj: b }), k.html(h + ' <span class="c_ba2636">' + (0 < b.hours ? ("0" + b.hours).slice(-2) + ":" : "") + ("0" + b.minutes).slice(-2) + ":" + ("0" + b.seconds).slice(-2) + "</span>")) : (c.sendMsg("betCountDown", { currentPeriod: g.currentPeriod, seconds: 0, timeObj: { seconds: 0, minutes: 0, hours: 0, days: 0 } }), k.html(h + ' <span class="c_ba2636">00:00</span>'), g.checkTime([c.proxy(g.processBet, g), c.proxy(g.processAward, g)])) }) : (c.sendMsg("betCountDown", { currentPeriod: this.currentPeriod, seconds: 0, timeObj: { seconds: 0, minutes: 0, hours: 0, days: 0 } }), k.html(h + ' <span class="c_ba2636">00:00</span>'), a.setTimeout(function () { g.checkTime([c.proxy(g.processBet, g), c.proxy(g.processAward, g)]) }, 2E4)) }, processAward: function (b) { "jxssc" == a.gameEn && (b.previousPeriod = b.previousPeriod.toString().slice(2)); if (1 === b.previousPeriod - this.endPeriod) { var g = this, e = c("#awardTimeTrTitle"), k = c("#awardTimeTrCount"); this.endPeriod = parseInt(b.previousPeriod, 10); a.endPeriod = this.endPeriod; c("#awardTimeTr").show(); e.html(this.endPeriod); 0 < b.awardSecondsLeft ? d.add(b.awardSecondsLeft / 1E3, function (a, b) { 0 < a ? k.html('<span class="c_727171">等待开奖中...</span> <span>' + ("0" + b.minutes).slice(-2) + ":" + ("0" + b.seconds).slice(-2) + "</span>") : d.add(g.options.awardWaitSeconds, function (a, b) { 0 < a ? k.html('<span class="c_727171">正在获取开奖号码...</span> <span>' + ("0" + b.minutes).slice(-2) + ":" + ("0" + b.seconds).slice(-2) + "</span>") : (k.html('<span class="c_727171">正在获取开奖号码...</span>'), setTimeout(function () { g.processResultStarttime = (new Date).getTime(); g.processResult() }, 5E3 * (Math.random() + 1))) }) }) : (k.html('<span class="c_727171">正在获取开奖号码...</span>'), setTimeout(function () { g.processResultStarttime = (new Date).getTime(); g.processResult() }, 5E3 * (Math.random() + 1))) } }, processResult: function () { var d = this, g = this.repaint, e = this.initBody, k; this.processResultTime && a.clearTimeout(this.processResultTime); (new Date).getTime() - this.processResultStarttime >= this.options.processResultMaxtime || (k = { gameId: a.gameId, trendType: a.trendType, beginPeriod: this.beginPeriod + 1, endPeriod: this.endPeriod, stamp: (new Date).getTime() }, b.get(this.options.awardUrl, k, function (h, k) { if (!h && k) { var l, n; (k = b.parseJSON(k)) && k.award ? (c("#awardTimeTr").hide(), e.find(".tdbck").remove(), d.options.isDownSort() ? (n = e.find("tr:last"), l = c(k.award).prependTo(e)) : (n = e.find("tr:first"), l = c(k.award).appendTo(e)), n.remove(), d.options.isAddNewFlag && e.find(".cz_new").remove(), d.options.isAddNewFlag && l.find("td:eq(0)").append('<span class="cz_new"></span>'), l.addClass("newLine"), a.setTimeout(function () { l.removeClass("newLine") }, 2E3), d.beginPeriod += 1, a.beginPeriod = d.beginPeriod, c('input[name="beginPeriod"]').val(d.beginPeriod), c('input[name="endPeriod"]').val(d.endPeriod), c("#history_gross").html(k.history), c("#now_gross").html(k.now), g()) : d.processResultTime = setTimeout(c.proxy(d.processResult, d), 5E3) } else d.processResultTime = a.setTimeout(c.proxy(d.processResult, d), 5E3) })) } } }(window, window.jQuery, window.Core), K = function (a, c, b) { return { init: function (c) { a.breakPeriods && "string" == typeof a.breakPeriods && (a.breakPeriods = b.parseJSON(a.breakPeriods)); this.breakPeriods = a.breakPeriods = a.breakPeriods || []; this.repaint = c; this.checkPeriod() }, checkPeriod: function () { if (this.breakPeriods.length) { var d = this, f = { gameId: a.gameId, trendType: a.trendType, beginPeriod: a.beginPeriod, endPeriod: a.endPeriod, breakPeriods: a.breakPeriods.join(","), stamp: (new Date).getTime() }; b.get("/trend/autoRefreshCpData.html", f, function (f, e) { if (!f && e) { var k = b.parseJSON(e); k.cpdata && (d.breakPeriods = a.breakPeriods = k.breakPeriods, c("#cpdata").html(k.cpdata), c("#history_gross").html(k.history), c("#now_gross").html(k.now), d.repaint()) } a.setTimeout(c.proxy(d.checkPeriod, d), 3E4) }) } else a.setTimeout(c.proxy(this.checkPeriod, this), 3E4) } } }(window, window.jQuery, window.Core) })(window);